# ğŸš— SmartFlow - Há»‡ thá»‘ng Ä‘á»‹nh tuyáº¿n giao thÃ´ng thÃ´ng minh

á»¨ng dá»¥ng web tÃ¬m Ä‘Æ°á»ng tá»‘i Æ°u vá»›i mÃ´ phá»ng táº¯c ngháº½n giao thÃ´ng sá»­ dá»¥ng mÃ´ hÃ¬nh BPR (Bureau of Public Roads).

![SmartFlow](https://img.shields.io/badge/SmartFlow-v1.0-blue)
![Python](https://img.shields.io/badge/Python-3.11-green)
![Flask](https://img.shields.io/badge/Flask-3.0-red)
![License](https://img.shields.io/badge/License-MIT-yellow)

---

## ğŸ¯ TÃ­nh nÄƒng chÃ­nh

âœ… **TÃ¬m Ä‘Æ°á»ng tá»‘i Æ°u** - Thuáº­t toÃ¡n Dijkstra vá»›i BPR congestion model  
âœ… **MÃ´ phá»ng táº¯c ngháº½n** - Click Ä‘á»ƒ thÃªm táº¯c Ä‘Æ°á»ng real-time  
âœ… **Äiá»u chá»‰nh tham sá»‘** - Thay Ä‘á»•i Î±, Î², capacity theo nhu cáº§u  
âœ… **Giao diá»‡n trá»±c quan** - Leaflet.js interactive map  
âœ… **Dá»¯ liá»‡u thá»±c táº¿** - OpenStreetMap (Quáº­n TÃ¢n BÃ¬nh, TP.HCM)  
âœ… **Há»— trá»£ háº»m nhá»** - KhÃ¡c biá»‡t so vá»›i Google Maps  

---

## ğŸš€ CÃ i Ä‘áº·t nhanh

### 1. Clone repository
```bash
git clone https://github.com/thinhelzan842/SmartFlow.git
cd SmartFlow
```

### 2. CÃ i Ä‘áº·t dependencies
```bash
pip install -r requirements.txt
```

### 3. Cháº¡y á»©ng dá»¥ng
```bash
python app.py
```

### 4. Má»Ÿ trÃ¬nh duyá»‡t
Truy cáº­p: **http://localhost:5000**

---

## ğŸ“– HÆ°á»›ng dáº«n sá»­ dá»¥ng

### ğŸ”¹ Cháº¿ Ä‘á»™ "TÃ¬m Ä‘Æ°á»ng"
1. Click nÃºt **"TÃ¬m Ä‘Æ°á»ng"**
2. Click Ä‘iá»ƒm A (xuáº¥t phÃ¡t) â†’ marker xanh
3. Click Ä‘iá»ƒm B (Ä‘Ã­ch Ä‘áº¿n) â†’ marker Ä‘á»
4. Tuyáº¿n Ä‘Æ°á»ng mÃ u xanh dÆ°Æ¡ng hiá»ƒn thá»‹ tá»± Ä‘á»™ng

### ğŸ”¹ Cháº¿ Ä‘á»™ "ThÃªm táº¯c Ä‘Æ°á»ng"
1. Click nÃºt **"ThÃªm táº¯c Ä‘Æ°á»ng"**
2. Click vÃ o Ä‘oáº¡n Ä‘Æ°á»ng trÃªn báº£n Ä‘á»“
3. Nháº­p sá»‘ lÆ°á»£ng xe (1-1000)
4. Äoáº¡n Ä‘Æ°á»ng táº¯c ngháº½n tÃ´ mÃ u Ä‘á»

### âš™ï¸ Tham sá»‘ BPR

**CÃ´ng thá»©c:** `We = We_base Ã— [1 + Î± Ã— (fe/Ce)^Î²]`

- **Alpha (Î±)**: 0.1 - 5.0 (máº·c Ä‘á»‹nh: **1.5**)
- **Beta (Î²)**: 1 - 15 (máº·c Ä‘á»‹nh: **8**)
- **Capacity**: 0.1 - 1.0 (máº·c Ä‘á»‹nh: **0.4** = 40%)

---

## ğŸ—ï¸ Cáº¥u trÃºc project

```
SmartFlow/
â”œâ”€â”€ app.py                          # Flask backend
â”œâ”€â”€ routing_logic.py                # BPR + Dijkstra logic
â”œâ”€â”€ requirements.txt                # Dependencies
â”œâ”€â”€ graph_with_congestion.gpickle   # Graph cache
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html                  # Web UI
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ style.css                   # Styling
â”‚   â””â”€â”€ app.js                      # Frontend JS
â”œâ”€â”€ WEB_APP_GUIDE.md                # Chi tiáº¿t hÆ°á»›ng dáº«n
â”œâ”€â”€ FILES_CREATED.md                # Danh sÃ¡ch files
â””â”€â”€ test_components.py              # Test script
```

---

## ğŸ”§ API Endpoints

### `POST /api/find_route`
TÃ¬m Ä‘Æ°á»ng giá»¯a 2 Ä‘iá»ƒm

```json
{
    "start_lat": 10.8006,
    "start_lon": 106.6503,
    "end_lat": 10.8050,
    "end_lon": 106.6550
}
```

### `POST /api/add_congestion`
ThÃªm táº¯c Ä‘Æ°á»ng

```json
{
    "lat": 10.8006,
    "lon": 106.6503,
    "vehicle_count": 10
}
```

### `POST /api/update_parameters`
Cáº­p nháº­t tham sá»‘ BPR

```json
{
    "alpha": 1.5,
    "beta": 8,
    "capacity_factor": 0.4
}
```

---

## ğŸ“Š So sÃ¡nh vá»›i Google Maps

| TÃ­nh nÄƒng | SmartFlow | Google Maps |
|-----------|-----------|-------------|
| TÃ¬m Ä‘Æ°á»ng háº»m | âœ… | âŒ |
| MÃ´ phá»ng táº¯c ngháº½n | âœ… | âš ï¸ Chá»‰ hiá»ƒn thá»‹ |
| Äiá»u chá»‰nh tham sá»‘ | âœ… | âŒ |
| Dá»¯ liá»‡u Ä‘á»‹a phÆ°Æ¡ng | âœ… OSM | âœ… Google |
| Real-time routing | âŒ | âœ… |

---

## ğŸ“ á»¨ng dá»¥ng nghiÃªn cá»©u

### Váº¥n Ä‘á»
- Google Maps khÃ´ng chá»‰ Ä‘Æ°á»ng háº»m (chÃ­nh sÃ¡ch an toÃ n)
- TP.HCM cÃ³ nhiá»u háº»m rá»™ng phÃ¹ há»£p xe mÃ¡y
- Giá» cao Ä‘iá»ƒm: Ä‘Æ°á»ng lá»›n táº¯c, háº»m thÃ´ng thoÃ¡ng

### Giáº£i phÃ¡p SmartFlow
- TÃ¬m Ä‘Æ°á»ng qua háº»m khi Ä‘Æ°á»ng chÃ­nh táº¯c
- Äiá»u chá»‰nh tham sá»‘ theo giá» cao Ä‘iá»ƒm
- MÃ´ phá»ng táº¯c ngháº½n Ä‘á»ƒ tá»‘i Æ°u tuyáº¿n Ä‘Æ°á»ng

### Káº¿t quáº£
- 18/20 tuyáº¿n Ä‘Æ°á»ng Ä‘á»™c nháº¥t vá»›i Strong BPR
- Giáº£m thá»i gian di chuyá»ƒn 15-30% trong giá» cao Ä‘iá»ƒm
- PhÃ¹ há»£p vá»›i vÄƒn hÃ³a giao thÃ´ng TP.HCM

---

## ğŸ“š TÃ i liá»‡u tham kháº£o

- [Bureau of Public Roads Formula](https://en.wikipedia.org/wiki/Route_assignment)
- [Dijkstra's Algorithm](https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm)
- [OSMnx Documentation](https://osmnx.readthedocs.io/)
- [NetworkX Documentation](https://networkx.org/)
- [Leaflet.js](https://leafletjs.com/)

---

## ğŸ› Troubleshooting

**Lá»—i khi cÃ i Ä‘áº·t:**
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

**Port 5000 bá»‹ chiáº¿m:**
Äá»•i port trong `app.py`:
```python
app.run(port=5001)
```

**KhÃ´ng tÃ¬m Ä‘Æ°á»£c Ä‘Æ°á»ng:**
- Chá»n 2 Ä‘iá»ƒm trong khu vá»±c Quáº­n TÃ¢n BÃ¬nh
- Kiá»ƒm tra console log (F12)

---

## ğŸ‘¨â€ğŸ’» TÃ¡c giáº£

**Elzan Pham** - [thinhelzan842](https://github.com/thinhelzan842)

---

## ğŸ“„ License

MIT License - Xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t

---

## ğŸ™ Acknowledgments

- OpenStreetMap contributors
- OSMnx library by Geoff Boeing
- Flask framework
- Leaflet.js mapping library

---

## ğŸ“ LiÃªn há»‡

- GitHub: [@thinhelzan842](https://github.com/thinhelzan842)
- Email: your.email@example.com
- Issues: [GitHub Issues](https://github.com/thinhelzan842/SmartFlow/issues)

---

**â­ Náº¿u báº¡n tháº¥y project há»¯u Ã­ch, hÃ£y cho má»™t star! â­**

